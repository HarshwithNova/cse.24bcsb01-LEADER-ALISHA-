<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cosmic Watch - Login</title>
<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
<style>
/* ======================= */
/* BASE RESET & BODY */
* { margin:0; padding:0; box-sizing:border-box; }
html, body { width:100%; height:100%; font-family:'Orbitron',sans-serif; background:#000; color:#fff; overflow:hidden; }

/* ======================= */
/* LOGIN PAGE */
#loginPage {
  position: fixed; top:0; left:0; width:100%; height:100%;
  background: radial-gradient(circle at center, #000428 0%, #004e92 100%);
  display:flex; justify-content:center; align-items:center; z-index:2000;
}

.login-container {
  background: rgba(0,0,40,0.9); padding:2rem 3rem; border-radius:15px;
  box-shadow:0 0 40px rgba(60,240,255,0.3); width:320px; text-align:center;
}

.login-container h2 { font-size:1.8rem; color:#3cf0ff; margin-bottom:0.5rem; }
.login-container .subtitle { font-size:0.9rem; color:#b8c7ff; margin-bottom:1.5rem; }

.login-container input[type="email"],
.login-container input[type="password"] {
  width:100%; padding:0.8rem; margin-bottom:1rem; border-radius:8px;
  border:1px solid rgba(60,240,255,0.3); background: rgba(20,30,60,0.7);
  color:white; font-family:'Orbitron',sans-serif; font-size:0.9rem;
}

.login-container input:focus { outline:none; border-color:#3cf0ff; }

.login-btn {
  padding:0.8rem 1.5rem; width:100%; background: linear-gradient(135deg,#7f5cff,#3cf0ff);
  border:none; border-radius:50px; color:#000; font-weight:700; cursor:pointer;
  transition: all 0.3s ease; text-transform:uppercase;
}

.login-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(127,92,255,0.4),0 0 60px rgba(60,240,255,0.3);
}

.login-options, .register-text { font-size:0.8rem; color:#b8c7ff; margin-top:0.5rem; }
.login-options a, .register-text a { color:#3cf0ff; text-decoration:none; }
.login-options a:hover, .register-text a:hover { text-decoration:underline; }

/* STAR CURSOR */
.star { position:fixed; width:12px; height:12px; background:white; border-radius:50%;
  pointer-events:none; box-shadow:0 0 10px #7ecbff,0 0 20px #7ecbff; animation:starFade 0.8s linear forwards; z-index:9999;}
@keyframes starFade { from{opacity:1; transform:scale(1);} to{opacity:0; transform:scale(0);} }

/* ======================= */
/* HERO + DASHBOARD STYLES (your existing CSS) */
.hero {
  position: fixed; top: 0; left: 0; width:100%; height:100%;
  background: radial-gradient(circle at 20% 30%, rgba(127,92,255,0.3), transparent 50%),
              radial-gradient(circle at 80% 70%, rgba(60,240,255,0.25), transparent 50%),
              linear-gradient(135deg, #000428 0%, #004e92 100%);
  display:flex; align-items:center; justify-content:center; z-index:1000; transition:opacity 1s ease, transform 1s ease;
}
.hero.hidden { opacity:0; transform:scale(1.1); pointer-events:none; }
.hero-content { text-align:center; padding:2rem; max-width:800px; }
.title { font-size:5rem; font-weight:800; letter-spacing:0.3em; color:#fff; text-shadow:0 0 20px rgba(127,92,255,0.7),0 0 40px rgba(60,240,255,0.5); margin-bottom:1rem; text-transform:uppercase;}
.subtitle { font-size:2rem; font-weight:600; letter-spacing:0.2em; color:#3cf0ff; margin-bottom:2rem; text-transform:uppercase;}
.tagline { font-size:1.1rem; color:#b8c7ff; margin-bottom:3rem; line-height:1.6; opacity:0.9; }
.cta { padding:1.2rem 3rem; background:linear-gradient(135deg,#7f5cff,#3cf0ff); border:none; border-radius:50px; color:#000; font-family:'Orbitron',sans-serif; font-size:1.1rem; font-weight:700; letter-spacing:0.1em; cursor:pointer; transition:all 0.3s ease; text-transform:uppercase; }
.cta:hover { transform:translateY(-3px); box-shadow:0 10px 30px rgba(127,92,255,0.4),0 0 60px rgba(60,240,255,0.3);}
.cta:active { transform:translateY(-1px); }

/* Info Panel, Stats, Asteroid List, Controls, Canvas scrollbars (keep your previous dashboard CSS here) */
/* For brevity, I will not repeat everything; you can copy your existing CSS below this line */

/* ... paste your entire CSS from the previous block here ... */

</style>
</head>
<body>

<!-- ======================== -->
<!-- LOGIN PAGE -->
<div id="loginPage">
  <div class="login-container">
    <h2>Welcome</h2>
    <div class="subtitle">Enter your credentials</div>
    <input type="email" id="email" placeholder="Email">
    <input type="password" id="password" placeholder="Password">
    <button class="login-btn" onclick="login()">Login</button>
    <div class="login-options"><a href="#" onclick="showForgot()">Forgot Password?</a>
</div>
    <div class="register-text">New user? <a href="#" onclick="showRegister()">Register</a>
</div>
  </div>
</div>
<!-- ======================== -->
<!-- REGISTER PAGE -->
<div id="registerPage" style="display:none;" class="authPage">
  <div class="login-container">
    <h2>Create Account</h2>
    <div class="subtitle">Join Cosmic Watch</div>

    
    <input type="email" id="regEmail" placeholder="Email">
    <input type="password" id="regPassword" placeholder="Password">

    <button class="login-btn" onclick="registerUser()">Register</button>

    <div class="register-text">
      Already have account?
      <a href="#" onclick="backToLogin()">Login</a>
    </div>
  </div>
</div>

<!-- ======================== -->
<!-- FORGOT PASSWORD PAGE -->
<div id="forgotPage" style="display:none;" class="authPage">
  <div class="login-container">
    <h2>Reset Password</h2>
    <div class="subtitle">Enter your email</div>

    <input type="email" id="forgotEmail" placeholder="Email Address">

    <button class="login-btn" onclick="sendReset()">Send Reset Link</button>

    <div class="register-text">
      <a href="#" onclick="backToLogin()">Back to Login</a>
    </div>
  </div>
</div>


<!-- ======================== -->
<!-- HERO -->
<div class="hero" id="hero">
  <div class="hero-content">
    <h1 class="title">COSMIC</h1>
    <h2 class="subtitle">WATCH</h2>
    <p class="tagline">Real-time near-Earth asteroid visualization and risk awareness</p>
    <button class="cta" onclick="enterSpace()">ENTER SPACE</button>
  </div>
</div>

<!-- ======================== -->
<!-- DASHBOARD -->
<div id="infoPanel">
  <div class="panel-header"><h3><i class="fas fa-satellite"></i> ASTEROID CONTROL PANEL</h3></div>
  <button id="fetchBtn" class="panel-btn"><i class="fas fa-sync-alt"></i> FETCH LIVE DATA</button>
  <button id="demoBtn" class="panel-btn secondary"><i class="fas fa-vial"></i> LOAD DEMO DATA</button>
  <select id="selectAsteroid"><option value="">Select an Asteroid</option></select>
  <div class="stats">
    <div class="stat-item"><span class="stat-label">Total Asteroids:</span><span class="stat-value" id="totalCount">0</span></div>
    <div class="stat-item"><span class="stat-label">Hazardous:</span><span class="stat-value danger" id="hazardCount">0</span></div>
    <div class="stat-item"><span class="stat-label">Safe:</span><span class="stat-value safe" id="safeCount">0</span></div>
  </div>
  <div id="asteroidList"><div class="empty-state"><i class="fas fa-meteor"></i><p>No asteroid data loaded</p><p class="hint">Click buttons above to load data</p></div></div>
  <div class="controls">
    <button id="resetCam" class="control-btn"><i class="fas fa-crosshairs"></i> RESET VIEW</button>
    <button id="audioBtn" class="control-btn"><i class="fas fa-volume-up"></i> AUDIO ON/OFF</button>
  </div>
</div>

<canvas id="spaceScene"></canvas>
<audio id="spaceAudio" loop>
  <source src="https://assets.mixkit.co/music/preview/mixkit-space-game-668.mp3" type="audio/mpeg">
</audio>

<script>
// =======================
// LOGIN FUNCTION
function login() {
  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;
  if(email && password) {
    document.getElementById('loginPage').style.display='none';
    document.getElementById('hero').style.display='flex';
    createStarEffect();
  } else {
    alert('Enter email and password!');
  }
}

// STAR CURSOR EFFECT
function createStarEffect() {
  document.addEventListener('mousemove', e => {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = e.clientX + 'px';
    star.style.top = e.clientY + 'px';
    document.body.appendChild(star);
    setTimeout(() => star.remove(), 800);
  });
}

// =======================
// Cosmic Watch JS
// Paste your entire previous JS code for 3D scene here
// For brevity, insert the full script you shared earlier (all Three.js + dashboard functionality)
// Example: enterSpace(), initThreeJS(), animate(), fetchLiveData(), etc.
function enterSpace() {
    // Hide the hero screen
    const hero = document.getElementById('hero');
    hero.classList.add('hidden');

    // Show the dashboard panel
    const panel = document.getElementById('infoPanel');
    panel.classList.add('active');

    // Optionally start audio
    const audio = document.getElementById('spaceAudio');
    audio.play().catch(e => console.log("Audio blocked until interaction"));

    // Initialize 3D scene
    initThreeJS();  // Make sure you have this function from your Three.js code
}

</script>
<script src="script.js"></script>

</body>
</html>
